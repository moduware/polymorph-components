<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, minimum-scale=1, initial-scale=1, user-scalable=yes">

    <title>morph-ripple test</title>

    <script src="../../webcomponentsjs/webcomponents-lite.js"></script>
    <script src="../../web-component-tester/browser.js"></script>

    <link rel="import" href="../morph-ripple.html">
  </head>
  <body>

    <test-fixture id="BasicTestFixture">
      <template>
        <morph-ripple></morph-ripple>
      </template>
    </test-fixture>

    <script>
      
      describe('morph-ripple', function() {
        // testing default morph-ripple properties
        context('Default properties', function() {
          // declare variable for ripple in this context only
          let ripple, spy;

          // Create a test fixture
          beforeEach(function() {
            // assigning ripple fixture for this context. This will automatically removed on the teardown phase of this test context
            ripple = fixture('BasicTestFixture');

            // stubbing showRipple method of our morph-ripple
            spy = sinon.stub(ripple, "showRipple");
          });

          afterEach(function () {
            ripple.showRipple.restore(); // Unwraps the spy
          });

          it('instantiating the button on android platform with default properties works', function() {
            // testing for default colors and which platform was set in html markup
            expect(ripple).to.be.ok;
            
          });

          it('showRipple() method is called when morph-ripple is clicked', function() {
            let mouseDown = new Event('down');
            ripple.dispatchEvent(mouseDown);
            // Count # of calls to showRipple
            expect(spy.calledOnce).to.be.true;
          });

        });

      });

    </script>

  </body>
</html>
