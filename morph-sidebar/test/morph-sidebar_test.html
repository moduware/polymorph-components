<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, minimum-scale=1, initial-scale=1, user-scalable=yes">

    <title>morph-sidebar test</title>

    <script src="../../webcomponentsjs/webcomponents-lite.js"></script>
    <script src="../../web-component-tester/browser.js"></script>

    <link rel="import" href="../morph-sidebar.html">
  </head>
  <body>

    <test-fixture id='sidebarFixture'>
      <template>
        <morph-sidebar platform='android'></morph-sidebar>
      </template>
    </test-fixture>

    <test-fixture id='rightSidebarFixture'>
      <template>
        <morph-sidebar side='right' platform='android'></morph-sidebar>
      </template>
    </test-fixture>

    <script>
      describe('<morph-sidebar>', function() {
        // testing for default properties present
        context('Default Sidebar Property Test', function() {
          // declare variable for sidebar in this context only
          let sidebar, style;
          // assigning button fixture for this context. This will automatically removed on the teardown phase of this test context
          beforeEach(function() {
            sidebar = fixture('sidebarFixture');
            style = getComputedStyle(sidebar);
          });

          it('instantiating the sidebar reflects default properties', function() {
            expect(sidebar).to.be.ok;
            expect(sidebar.side).to.be.equal('left');
            expect(style.left).to.be.equal('0px');
            expect(sidebar.open).to.be.false;
          });

        });

        // testing for setting side property reflects correctly
        context('Set Sidebar property side = right', function() {
           // declare variable for sidebar in this context only
          let sidebar;
          // assigning button fixture for this context. This will automatically removed on the teardown phase of this test context 
          beforeEach(function() {
            sidebar = fixture('rightSidebarFixture');
            style = getComputedStyle(sidebar);
          });

          it('setting a property on the sidebar works', function() {
            expect(sidebar.side).to.be.equal('right');
            expect(style.right).to.be.equal('0px');
            expect(style.left).not.to.be.equal('640px');
          });

        });

      });
    </script>

  </body>
</html>
